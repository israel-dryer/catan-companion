import{a as Y}from"./chunk-GIDP7GDQ.js";import{a as X}from"./chunk-LQVFMVUB.js";import{a as U}from"./chunk-OI36OCLG.js";import{Ba as P,C as g,D as v,Fa as B,Fb as z,Ga as H,Gb as J,Ha as V,Hb as O,K as m,Na as R,Pa as A,R as x,T as w,U as d,Y as n,Z as t,_ as D,ca as b,da as C,ea as c,f as y,g as E,ma as o,mb as F,na as u,oa as T,qa as k,qb as L,rb as $,sb as M,ta as p,tb as j,ua as I,ub as K,va as h,vb as N,wb as Q,x as _,xb as W,y as G,zb as q}from"./chunk-PV5YSWZ3.js";import"./chunk-WUWNYIGP.js";import"./chunk-LWVDKAUF.js";import"./chunk-GL44O5XQ.js";import"./chunk-RJAJR2VM.js";import"./chunk-F7XBNY6P.js";import"./chunk-VMJYD4Q3.js";import"./chunk-ECOWT7JY.js";import"./chunk-V7Y3NHWF.js";import"./chunk-4U6PRYVA.js";import"./chunk-ZAB4NJP7.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{h as f}from"./chunk-HCV7W5KS.js";function Z(i,a){if(i&1&&(n(0,"ion-item")(1,"ion-label")(2,"ion-note",4),o(3,"Winner"),t(),n(4,"div")(5,"ion-text"),o(6),t()()()()),i&2){let l=c();m(6),u(l.winner)}}function ee(i,a){i&1&&(n(0,"ion-item")(1,"ion-label")(2,"ion-text"),o(3,"Cities and Knights Expansion"),t()()())}function te(i,a){if(i&1&&(n(0,"ion-item")(1,"ion-label")(2,"ion-note",4),o(3,"End Date"),t(),n(4,"div")(5,"ion-text"),o(6),p(7,"date"),t()()()(),n(8,"ion-item")(9,"ion-label")(10,"ion-note",4),o(11,"Duration"),t(),n(12,"div")(13,"ion-text"),o(14),p(15,"number"),t()()()(),n(16,"ion-item")(17,"ion-label")(18,"ion-note",4),o(19,"Total Rolls"),t(),n(20,"div")(21,"ion-text"),o(22),p(23,"number"),t()()()()),i&2){let l=c(),e=c();m(6),u(h(7,3,l.at(-1).timestamp,"medium")),m(8),T("",h(15,6,(l.at(-1).timestamp-e.id)/1e3/60,"1.2-2")," minutes"),m(8),u(I(23,9,l.length))}}function ie(i,a){i&1&&x(0,te,24,11),i&2&&d(a.length>0?0:-1)}function ne(i,a){if(i&1){let l=b();n(0,"ion-button",9),C("click",function(){g(l);let r=c(),s=c();return v(s.continueGame(r))}),o(1,"Continue"),t()}}function oe(i,a){if(i&1){let l=b();n(0,"ion-content")(1,"ion-list",3)(2,"ion-item")(3,"ion-label")(4,"ion-note",4),o(5,"Start Date"),t(),n(6,"div")(7,"ion-text"),o(8),p(9,"date"),t()()()(),n(10,"ion-item")(11,"ion-label")(12,"ion-note",4),o(13,"Roster"),t(),n(14,"div")(15,"ion-text"),o(16),t()()()(),x(17,Z,7,1,"ion-item")(18,ee,4,0,"ion-item")(19,ie,1,1),p(20,"async"),t()(),n(21,"ion-footer",5)(22,"ion-buttons",6)(23,"ion-button",7),C("click",function(){let r=g(l),s=c();return v(s.deleteGame(r.id))}),o(24,"Delete"),t(),x(25,ne,2,0,"ion-button",4),n(26,"ion-button",8),C("click",function(){let r=g(l),s=c();return v(s.showReports(r.id))}),o(27,"Reports"),t()()()}if(i&2){let l,e=a,r=c();m(8),u(h(9,6,e.id,"medium")),m(8),u(e.roster.join(", ")),m(),d(e.winner?17:-1),m(),d(e.citiesAndKnights?18:-1),m(),d((l=I(20,9,r.$rolls))?19:-1,l),m(6),d(e.winner?-1:25)}}var ye=(()=>{let a=class a{constructor(){this.location=_(P),this.route=_(R),this.router=_(A),this.gameService=_(X),this.currentService=_(Y),this.deleteGame=e=>f(this,null,function*(){yield this.gameService.deleteGame(e),this.location.back()}),this.continueGame=e=>f(this,null,function*(){this.currentService.setCurrentItem("activeGameId",e.id),yield this.router.navigate(["play"])}),this.showReports=e=>f(this,null,function*(){yield this.router.navigate(["/reports",e])})}ngAfterViewInit(){this.$game=this.route.paramMap.pipe(E(e=>{let r=Number(e.get("id"));return U(()=>this.gameService.selectGame(r))})),this.$rolls=this.$game.pipe(y(e=>e==null?void 0:e.rolls))}};a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=G({type:a,selectors:[["app-game-history-detail"]],standalone:!0,features:[k],decls:8,vars:4,consts:[[3,"translucent"],["slot","start"],["default-href","/history"],["inset",""],["color","medium"],[1,"ion-padding"],[2,"justify-content","space-around"],["color","danger",3,"click"],["color","secondary",3,"click"],["color","medium",3,"click"]],template:function(r,s){if(r&1&&(n(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),D(3,"ion-back-button",2),t(),n(4,"ion-title"),o(5,"Game Details"),t()()(),x(6,oe,28,11),p(7,"async")),r&2){let S;w("translucent",!0),m(6),d((S=I(7,2,s.$game))?6:-1,S)}},dependencies:[K,O,$,F,J,M,B,W,N,Q,q,z,H,V,j,L]});let i=a;return i})();export{ye as GameHistoryDetailPage};
