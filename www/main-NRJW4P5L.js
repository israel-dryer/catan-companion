import{a as M,b as N,e as h0,f as Z1,j as c1,k as J1,l as A1}from"./chunk-5IC5DNT2.js";import{A as $2,Aa as s0,G as W2,I as $1,Ib as g0,J as W1,Ja as X1,La as i0,M as G2,Ma as a0,N as Y2,O as L1,Oa as n0,Ra as e0,Y as X2,Z as Z2,_ as J2,a as D2,d as B1,e as N2,f as G,h as F2,i as U1,j as K1,jb as l0,k as Q1,l as e1,lb as c0,m as l1,n as Y,o as R2,p as I2,pb as r0,q as d1,qa as o0,r as U2,s as z,u as X,v as K2,w as Z,wa as t0,xa as G1,y as Q2,ya as Y1}from"./chunk-PV5YSWZ3.js";import"./chunk-WUWNYIGP.js";import"./chunk-LWVDKAUF.js";import"./chunk-GL44O5XQ.js";import"./chunk-RJAJR2VM.js";import"./chunk-F7XBNY6P.js";import"./chunk-VMJYD4Q3.js";import"./chunk-ECOWT7JY.js";import"./chunk-V7Y3NHWF.js";import"./chunk-4U6PRYVA.js";import"./chunk-ZAB4NJP7.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{a as n1,d as q2}from"./chunk-HCV7W5KS.js";var v0=[{path:"home",loadComponent:()=>import("./chunk-V73UKWEY.js").then(a=>a.HomePage)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"select-players",loadComponent:()=>import("./chunk-ZR4SD3SJ.js").then(a=>a.SelectPlayersPage)},{path:"play",loadComponent:()=>import("./chunk-Q7Z4ZWON.js").then(a=>a.PlayPage)},{path:"settings",loadComponent:()=>import("./chunk-OBN56K3A.js").then(a=>a.SettingsPage)},{path:"purge-game-data",loadComponent:()=>import("./chunk-VFXDZ3R3.js").then(a=>a.PurgeGameDataPage)},{path:"edit-players",loadComponent:()=>import("./chunk-RB4LLZ76.js").then(a=>a.EditPlayersPage)},{path:"reports/:id",loadComponent:()=>import("./chunk-X2GS6S5Q.js").then(a=>a.ReportsPage)},{path:"export-game-data",loadComponent:()=>import("./chunk-OIY7KVTN.js").then(a=>a.ExportGameDataPage)},{path:"import-game-data",loadComponent:()=>import("./chunk-Q2P5FQYW.js").then(a=>a.ImportGameDataPage)},{path:"history",loadComponent:()=>import("./chunk-BU4CUJBE.js").then(a=>a.GameHistoryPage)},{path:"history/:id",loadComponent:()=>import("./chunk-HQK4V7PT.js").then(a=>a.GameHistoryDetailPage)}];var o2,d4=function(){if(typeof window>"u")return new Map;if(!o2){var a=window;a.Ionicons=a.Ionicons||{},o2=a.Ionicons.map=a.Ionicons.map||new Map}return o2},t2=function(a){Object.keys(a).forEach(function(o){w0(o,a[o]);var t=o.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();o!==t&&w0(t,a[o])})},w0=function(a,o){var t=d4(),s=t.get(a);s===void 0?t.set(a,o):s!==o&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(a,'". Ensure that multiple icons are not mapped to the same icon name.'))};var d0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var p0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z'/></svg>";var m0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M480 496H48a32 32 0 01-32-32V32a16 16 0 0132 0v432h432a16 16 0 010 32z'/><path d='M156 432h-40a36 36 0 01-36-36V244a36 36 0 0136-36h40a36 36 0 0136 36v152a36 36 0 01-36 36zM300 432h-40a36 36 0 01-36-36V196a36 36 0 0136-36h40a36 36 0 0136 36v200a36 36 0 01-36 36zM443.64 432h-40a36 36 0 01-36-36V132a36 36 0 0136-36h40a36 36 0 0136 36v264a36 36 0 01-36 36z'/></svg>";var x0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>";var u0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M473.66 210c-14-10.38-31.2-18-49.36-22.11a16.11 16.11 0 01-12.19-12.22c-7.8-34.75-24.59-64.55-49.27-87.13C334.15 62.25 296.21 47.79 256 47.79c-35.35 0-68 11.08-94.37 32.05a150.07 150.07 0 00-42.06 53 16 16 0 01-11.31 8.87c-26.75 5.4-50.9 16.87-69.34 33.12C13.46 197.33 0 227.24 0 261.39c0 34.52 14.49 66 40.79 88.76 25.12 21.69 58.94 33.64 95.21 33.64h104V230.42l-36.69 36.69a16 16 0 01-23.16-.56c-5.8-6.37-5.24-16.3.85-22.39l63.69-63.68a16 16 0 0122.62 0L331 244.14c6.28 6.29 6.64 16.6.39 22.91a16 16 0 01-22.68.06L272 230.42v153.37h124c31.34 0 59.91-8.8 80.45-24.77 23.26-18.1 35.55-44 35.55-74.83 0-29.94-13.26-55.61-38.34-74.19zM240 448.21a16 16 0 1032 0v-64.42h-32z'/></svg>";var f0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M440.88 129.37L288.16 40.62a64.14 64.14 0 00-64.33 0L71.12 129.37a4 4 0 000 6.9L254 243.85a4 4 0 004.06 0L440.9 136.27a4 4 0 00-.02-6.9zM256 152c-13.25 0-24-7.16-24-16s10.75-16 24-16 24 7.16 24 16-10.75 16-24 16zM238 270.81L54 163.48a4 4 0 00-6 3.46v173.92a48 48 0 0023.84 41.39L234 479.48a4 4 0 006-3.46V274.27a4 4 0 00-2-3.46zM96 368c-8.84 0-16-10.75-16-24s7.16-24 16-24 16 10.75 16 24-7.16 24-16 24zm96-32c-8.84 0-16-10.75-16-24s7.16-24 16-24 16 10.75 16 24-7.16 24-16 24zM458 163.51L274 271.56a4 4 0 00-2 3.45V476a4 4 0 006 3.46l162.15-97.23A48 48 0 00464 340.86V167a4 4 0 00-6-3.49zM320 424c-8.84 0-16-10.75-16-24s7.16-24 16-24 16 10.75 16 24-7.16 24-16 24zm0-88c-8.84 0-16-10.75-16-24s7.16-24 16-24 16 10.75 16 24-7.16 24-16 24zm96 32c-8.84 0-16-10.75-16-24s7.16-24 16-24 16 10.75 16 24-7.16 24-16 24zm0-88c-8.84 0-16-10.75-16-24s7.16-24 16-24 16 10.75 16 24-7.16 24-16 24z'/></svg>",M0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path stroke-linecap='round' stroke-linejoin='round' d='M448 341.37V170.61A32 32 0 00432.11 143l-152-88.46a47.94 47.94 0 00-48.24 0L79.89 143A32 32 0 0064 170.61v170.76A32 32 0 0079.89 369l152 88.46a48 48 0 0048.24 0l152-88.46A32 32 0 00448 341.37z' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M69 153.99l187 110 187-110M256 463.99v-200' class='ionicon-fill-none ionicon-stroke-width'/><ellipse cx='256' cy='152' rx='24' ry='16'/><ellipse cx='208' cy='296' rx='16' ry='24'/><ellipse cx='112' cy='328' rx='16' ry='24'/><ellipse cx='304' cy='296' rx='16' ry='24'/><ellipse cx='400' cy='240' rx='16' ry='24'/><ellipse cx='304' cy='384' rx='16' ry='24'/><ellipse cx='400' cy='328' rx='16' ry='24'/></svg>";var z0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M428 224H288a48 48 0 01-48-48V36a4 4 0 00-4-4h-92a64 64 0 00-64 64v320a64 64 0 0064 64h224a64 64 0 0064-64V228a4 4 0 00-4-4z'/><path d='M419.22 188.59L275.41 44.78a2 2 0 00-3.41 1.41V176a16 16 0 0016 16h129.81a2 2 0 001.41-3.41z'/></svg>";var k0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M376 160H272v153.37l52.69-52.68a16 16 0 0122.62 22.62l-80 80a16 16 0 01-22.62 0l-80-80a16 16 0 0122.62-22.62L240 313.37V160H136a56.06 56.06 0 00-56 56v208a56.06 56.06 0 0056 56h240a56.06 56.06 0 0056-56V216a56.06 56.06 0 00-56-56zM272 48a16 16 0 00-32 0v112h32z'/></svg>";var y0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M160 144h288M160 256h288M160 368h288' class='ionicon-fill-none'/><circle cx='80' cy='144' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='256' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='80' cy='368' r='16' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var B0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 144h226.75a48 48 0 0090.5 0H448a16 16 0 000-32h-66.75a48 48 0 00-90.5 0H64a16 16 0 000 32zM448 368h-66.75a48 48 0 00-90.5 0H64a16 16 0 000 32h226.75a48 48 0 0090.5 0H448a16 16 0 000-32zM448 240H221.25a48 48 0 00-90.5 0H64a16 16 0 000 32h66.75a48 48 0 0090.5 0H448a16 16 0 000-32z'/></svg>";var L0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 464c-114.69 0-208-93.31-208-208S141.31 48 256 48s208 93.31 208 208-93.31 208-208 208zm0-384c-97 0-176 79-176 176s79 176 176 176 176-78.95 176-176S353.05 80 256 80z'/><path d='M323.67 292c-17.4 0-34.21-7.72-47.34-21.73a83.76 83.76 0 01-22-51.32c-1.47-20.7 4.88-39.75 17.88-53.62S303.38 144 323.67 144c20.14 0 38.37 7.62 51.33 21.46s19.47 33 18 53.51a84 84 0 01-22 51.3C357.86 284.28 341.06 292 323.67 292zm55.81-74zM163.82 295.36c-29.76 0-55.93-27.51-58.33-61.33-1.23-17.32 4.15-33.33 15.17-45.08s26.22-18 43.15-18 32.12 6.44 43.07 18.14 16.5 27.82 15.25 45c-2.44 33.77-28.6 61.27-58.31 61.27zM420.37 355.28c-1.59-4.7-5.46-9.71-13.22-14.46-23.46-14.33-52.32-21.91-83.48-21.91-30.57 0-60.23 7.9-83.53 22.25-26.25 16.17-43.89 39.75-51 68.18-1.68 6.69-4.13 19.14-1.51 26.11a192.18 192.18 0 00232.75-80.17zM163.63 401.37c7.07-28.21 22.12-51.73 45.47-70.75a8 8 0 00-2.59-13.77c-12-3.83-25.7-5.88-42.69-5.88-23.82 0-49.11 6.45-68.14 18.17-5.4 3.33-10.7 4.61-14.78 5.75a192.84 192.84 0 0077.78 86.64l1.79-.14a102.82 102.82 0 013.16-20.02z'/></svg>";var A0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M288 256c52.79 0 99.43-49.71 104-110.82 2.27-30.7-7.36-59.33-27.12-80.6C345.33 43.57 318 32 288 32c-30.24 0-57.59 11.5-77 32.38-19.63 21.11-29.2 49.8-27 80.78C188.49 206.28 235.12 256 288 256zM495.38 439.76c-8.44-46.82-34.79-86.15-76.19-113.75C382.42 301.5 335.83 288 288 288s-94.42 13.5-131.19 38c-41.4 27.6-67.75 66.93-76.19 113.75-1.93 10.73.69 21.34 7.19 29.11A30.94 30.94 0 00112 480h352a30.94 30.94 0 0024.21-11.13c6.48-7.77 9.1-18.38 7.17-29.11zM104 288v-40h40a16 16 0 000-32h-40v-40a16 16 0 00-32 0v40H32a16 16 0 000 32h40v40a16 16 0 0032 0z'/></svg>";var C0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 146s24.36-12-64-12a160 160 0 10160 160' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 58l80 80-80 80' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var S0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><path d='M470.39 300l-.47-.38-31.56-24.75a16.11 16.11 0 01-6.1-13.33v-11.56a16 16 0 016.11-13.22L469.92 212l.47-.38a26.68 26.68 0 005.9-34.06l-42.71-73.9a1.59 1.59 0 01-.13-.22A26.86 26.86 0 00401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 01-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 01-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 00298.76 26h-85.52a26.92 26.92 0 00-26.45 22.39l-.09.56-5.57 39.67a16 16 0 01-8.13 11.82 175.21 175.21 0 00-10 5.82 15.92 15.92 0 01-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 00-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 005.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 016.1 13.33v11.56a16 16 0 01-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 00-5.9 34.06l42.71 73.9a1.59 1.59 0 01.13.22 26.86 26.86 0 0032.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0114.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 018.19 11.82l5.56 39.59.12.72A27.22 27.22 0 00213.24 486h85.52a26.92 26.92 0 0026.45-22.39l.09-.56 5.57-39.67a16 16 0 018.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0114.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0032.48-11.34 2.53 2.53 0 01.13-.22l42.71-73.89a26.7 26.7 0 00-5.89-34.11zm-134.48-40.24a80 80 0 11-83.66-83.67 80.21 80.21 0 0183.66 83.67z'/></svg>";var H0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M384 336a63.78 63.78 0 00-46.12 19.7l-148-83.27a63.85 63.85 0 000-32.86l148-83.27a63.8 63.8 0 10-15.73-27.87l-148 83.27a64 64 0 100 88.6l148 83.27A64 64 0 10384 336z'/></svg>";var V0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.12 48 48 141.12 48 256s93.12 208 208 208 208-93.12 208-208S370.88 48 256 48zm-82.33 114.34l105 71a32.5 32.5 0 01-37.25 53.26 33.21 33.21 0 01-8-8l-71-105a8.13 8.13 0 0111.32-11.32zM256 432c-97 0-176-78.95-176-176a174.55 174.55 0 0153.87-126.72 14.15 14.15 0 1119.64 20.37A146.53 146.53 0 00108.3 256c0 81.44 66.26 147.7 147.7 147.7S403.7 337.44 403.7 256c0-76.67-58.72-139.88-133.55-147v55a14.15 14.15 0 11-28.3 0V94.15A14.15 14.15 0 01256 80c97.05 0 176 79 176 176s-78.95 176-176 176z'/></svg>";var j0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M296 64h-80a7.91 7.91 0 00-8 8v24h96V72a7.91 7.91 0 00-8-8z' class='ionicon-fill-none'/><path d='M432 96h-96V72a40 40 0 00-40-40h-80a40 40 0 00-40 40v24H80a16 16 0 000 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 000-32zM192.57 416H192a16 16 0 01-16-15.43l-8-224a16 16 0 1132-1.14l8 224A16 16 0 01192.57 416zM272 400a16 16 0 01-32 0V176a16 16 0 0132 0zm32-304h-96V72a7.91 7.91 0 018-8h80a7.91 7.91 0 018 8zm32 304.57A16 16 0 01320 416h-.58A16 16 0 01304 399.43l8-224a16 16 0 1132 1.14z'/></svg>";var b0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 80h-60.1a4 4 0 01-4-4V63.92a32 32 0 00-32-31.92l-223.79.26a32 32 0 00-31.94 31.93V76a4 4 0 01-4 4H48a16 16 0 00-16 16v16c0 54.53 30 112.45 76.52 125.35a7.82 7.82 0 015.55 5.9c5.77 26.89 23.52 52.5 51.41 73.61 20.91 15.83 45.85 27.5 68.27 32.48a8 8 0 016.25 7.8V444a4 4 0 01-4 4h-59.55c-8.61 0-16 6.62-16.43 15.23A16 16 0 00176 480h159.55c8.61 0 16-6.62 16.43-15.23A16 16 0 00336 448h-60a4 4 0 01-4-4v-86.86a8 8 0 016.25-7.8c22.42-5 47.36-16.65 68.27-32.48 27.89-21.11 45.64-46.72 51.41-73.61a7.82 7.82 0 015.55-5.9C450 224.45 480 166.53 480 112V96a16 16 0 00-16-16zM112 198.22a4 4 0 01-6 3.45c-10.26-6.11-17.75-15.37-22.14-21.89-11.91-17.69-19-40.67-19.79-63.63a4 4 0 014-4.15h40a4 4 0 014 4c-.02 27.45-.07 58.87-.07 82.22zm316.13-18.44c-4.39 6.52-11.87 15.78-22.13 21.89a4 4 0 01-6-3.46c0-26.51 0-56.63-.05-82.21a4 4 0 014-4h40a4 4 0 014 4.15c-.79 22.96-7.9 45.94-19.81 63.63z'/></svg>";var O0=(()=>{let o=class o{constructor(){t2({peopleCircleOutline:L0,personAdd:A0,dice:f0,close:x0,settings:S0,barChart:m0,arrowUndo:p0,list:y0,trophy:b0,trash:j0,document:z0,cloudUpload:u0,refresh:C0,add:d0,download:k0,diceOutline:M0,shareSocial:H0,options:B0,timer:V0})}};o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=Q2({type:o,selectors:[["app-root"]],standalone:!0,features:[o0],decls:2,vars:0,template:function(i,n){i&1&&(X2(0,"ion-app"),J2(1,"ion-router-outlet"),Z2())},dependencies:[r0,c0],encapsulation:2});let a=o;return a})();var E0={production:!0};function _0(a){return new z(3e3,!1)}function p4(){return new z(3100,!1)}function m4(){return new z(3101,!1)}function x4(a){return new z(3001,!1)}function u4(a){return new z(3003,!1)}function f4(a){return new z(3004,!1)}function M4(a,o){return new z(3005,!1)}function z4(){return new z(3006,!1)}function k4(){return new z(3007,!1)}function y4(a,o){return new z(3008,!1)}function B4(a){return new z(3002,!1)}function L4(a,o,t,s,i){return new z(3010,!1)}function A4(){return new z(3011,!1)}function C4(){return new z(3012,!1)}function S4(){return new z(3200,!1)}function H4(){return new z(3202,!1)}function V4(){return new z(3013,!1)}function j4(a){return new z(3014,!1)}function b4(a){return new z(3015,!1)}function O4(a){return new z(3016,!1)}function E4(a,o){return new z(3404,!1)}function _4(a){return new z(3502,!1)}function T4(a){return new z(3503,!1)}function P4(){return new z(3300,!1)}function q4(a){return new z(3504,!1)}function D4(a){return new z(3301,!1)}function N4(a,o){return new z(3302,!1)}function F4(a){return new z(3303,!1)}function R4(a,o){return new z(3400,!1)}function I4(a){return new z(3401,!1)}function U4(a){return new z(3402,!1)}function K4(a,o){return new z(3505,!1)}function Q(a){switch(a.length){case 0:return new c1;case 1:return a[0];default:return new J1(a)}}function G0(a,o,t=new Map,s=new Map){let i=[],n=[],e=-1,l=null;if(o.forEach(c=>{let r=c.get("offset"),g=r==e,h=g&&l||new Map;c.forEach((u,x)=>{let d=x,m=u;if(x!=="offset")switch(d=a.normalizePropertyName(d,i),m){case A1:m=t.get(x);break;case N:m=s.get(x);break;default:m=a.normalizeStyleValue(x,d,m,i);break}h.set(d,m)}),g||n.push(h),l=h,e=r}),i.length)throw _4(i);return n}function L2(a,o,t,s){switch(o){case"start":a.onStart(()=>s(t&&i2(t,"start",a)));break;case"done":a.onDone(()=>s(t&&i2(t,"done",a)));break;case"destroy":a.onDestroy(()=>s(t&&i2(t,"destroy",a)));break}}function i2(a,o,t){let s=t.totalTime,i=!!t.disabled,n=A2(a.element,a.triggerName,a.fromState,a.toState,o||a.phaseName,s==null?a.totalTime:s,i),e=a._data;return e!=null&&(n._data=e),n}function A2(a,o,t,s,i="",n=0,e){return{element:a,triggerName:o,fromState:t,toState:s,phaseName:i,totalTime:n,disabled:!!e}}function O(a,o,t){let s=a.get(o);return s||a.set(o,s=t),s}function T0(a){let o=a.indexOf(":"),t=a.substring(1,o),s=a.slice(o+1);return[t,s]}var Q4=typeof document>"u"?null:document.documentElement;function C2(a){let o=a.parentNode||a.host||null;return o===Q4?null:o}function $4(a){return a.substring(1,6)=="ebkit"}var J=null,P0=!1;function W4(a){J||(J=G4()||{},P0=J.style?"WebkitAppearance"in J.style:!1);let o=!0;return J.style&&!$4(a)&&(o=a in J.style,!o&&P0&&(o="Webkit"+a.charAt(0).toUpperCase()+a.slice(1)in J.style)),o}function G4(){return typeof document<"u"?document.body:null}function Y0(a,o){for(;o;){if(o===a)return!0;o=C2(o)}return!1}function X0(a,o,t){if(t)return Array.from(a.querySelectorAll(o));let s=a.querySelector(o);return s?[s]:[]}var S2=(()=>{let o=class o{validateStyleProperty(s){return W4(s)}containsElement(s,i){return Y0(s,i)}getParentElement(s){return C2(s)}query(s,i,n){return X0(s,i,n)}computeStyle(s,i,n){return n||""}animate(s,i,n,e,l,c=[],r){return new c1(n,e)}};o.\u0275fac=function(i){return new(i||o)},o.\u0275prov=X({token:o,factory:o.\u0275fac});let a=o;return a})(),b2=class b2{};b2.NOOP=new S2;var s1=b2,i1=class{};var Y4=1e3,Z0="{{",X4="}}",J0="ng-enter",r2="ng-leave",C1="ng-trigger",b1=".ng-trigger",q0="ng-animating",g2=".ng-animating";function U(a){if(typeof a=="number")return a;let o=a.match(/^(-?[\.\d]+)(m?s)/);return!o||o.length<2?0:h2(parseFloat(o[1]),o[2])}function h2(a,o){switch(o){case"s":return a*Y4;default:return a}}function O1(a,o,t){return a.hasOwnProperty("duration")?a:Z4(a,o,t)}function Z4(a,o,t){let s=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,n=0,e="";if(typeof a=="string"){let l=a.match(s);if(l===null)return o.push(_0(a)),{duration:0,delay:0,easing:""};i=h2(parseFloat(l[1]),l[2]);let c=l[3];c!=null&&(n=h2(parseFloat(c),l[4]));let r=l[5];r&&(e=r)}else i=a;if(!t){let l=!1,c=o.length;i<0&&(o.push(p4()),l=!0),n<0&&(o.push(m4()),l=!0),l&&o.splice(c,0,_0(a))}return{duration:i,delay:n,easing:e}}function J4(a){return a.length?a[0]instanceof Map?a:a.map(o=>new Map(Object.entries(o))):[]}function F(a,o,t){o.forEach((s,i)=>{let n=H2(i);t&&!t.has(i)&&t.set(i,a.style[n]),a.style[n]=s})}function t1(a,o){o.forEach((t,s)=>{let i=H2(s);a.style[i]=""})}function p1(a){return Array.isArray(a)?a.length==1?a[0]:h0(a):a}function o3(a,o,t){let s=o.params||{},i=o4(a);i.length&&i.forEach(n=>{s.hasOwnProperty(n)||t.push(x4(n))})}var v2=new RegExp(`${Z0}\\s*(.+?)\\s*${X4}`,"g");function o4(a){let o=[];if(typeof a=="string"){let t;for(;t=v2.exec(a);)o.push(t[1]);v2.lastIndex=0}return o}function x1(a,o,t){let s=`${a}`,i=s.replace(v2,(n,e)=>{let l=o[e];return l==null&&(t.push(u4(e)),l=""),l.toString()});return i==s?a:i}var t3=/-+([a-z0-9])/g;function H2(a){return a.replace(t3,(...o)=>o[1].toUpperCase())}function s3(a,o){return a===0||o===0}function i3(a,o,t){if(t.size&&o.length){let s=o[0],i=[];if(t.forEach((n,e)=>{s.has(e)||i.push(e),s.set(e,n)}),i.length)for(let n=1;n<o.length;n++){let e=o[n];i.forEach(l=>e.set(l,V2(a,l)))}}return o}function b(a,o,t){switch(o.type){case M.Trigger:return a.visitTrigger(o,t);case M.State:return a.visitState(o,t);case M.Transition:return a.visitTransition(o,t);case M.Sequence:return a.visitSequence(o,t);case M.Group:return a.visitGroup(o,t);case M.Animate:return a.visitAnimate(o,t);case M.Keyframes:return a.visitKeyframes(o,t);case M.Style:return a.visitStyle(o,t);case M.Reference:return a.visitReference(o,t);case M.AnimateChild:return a.visitAnimateChild(o,t);case M.AnimateRef:return a.visitAnimateRef(o,t);case M.Query:return a.visitQuery(o,t);case M.Stagger:return a.visitStagger(o,t);default:throw f4(o.type)}}function V2(a,o){return window.getComputedStyle(a)[o]}var a3=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),E1=class extends i1{normalizePropertyName(o,t){return H2(o)}normalizeStyleValue(o,t,s,i){let n="",e=s.toString().trim();if(a3.has(t)&&s!==0&&s!=="0")if(typeof s=="number")n="px";else{let l=s.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&i.push(M4(o,s))}return e+n}};var _1="*";function n3(a,o){let t=[];return typeof a=="string"?a.split(/\s*,\s*/).forEach(s=>e3(s,t,o)):t.push(a),t}function e3(a,o,t){if(a[0]==":"){let c=l3(a,t);if(typeof c=="function"){o.push(c);return}a=c}let s=a.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(s==null||s.length<4)return t.push(b4(a)),o;let i=s[1],n=s[2],e=s[3];o.push(D0(i,e));let l=i==_1&&e==_1;n[0]=="<"&&!l&&o.push(D0(e,i))}function l3(a,o){switch(a){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,s)=>parseFloat(s)>parseFloat(t);case":decrement":return(t,s)=>parseFloat(s)<parseFloat(t);default:return o.push(O4(a)),"* => *"}}var S1=new Set(["true","1"]),H1=new Set(["false","0"]);function D0(a,o){let t=S1.has(a)||H1.has(a),s=S1.has(o)||H1.has(o);return(i,n)=>{let e=a==_1||a==i,l=o==_1||o==n;return!e&&t&&typeof i=="boolean"&&(e=i?S1.has(a):H1.has(a)),!l&&s&&typeof n=="boolean"&&(l=n?S1.has(o):H1.has(o)),e&&l}}var t4=":self",c3=new RegExp(`s*${t4}s*,?`,"g");function s4(a,o,t,s){return new w2(a).build(o,t,s)}var N0="",w2=class{constructor(o){this._driver=o}build(o,t,s){let i=new d2(t);return this._resetContextStyleTimingState(i),b(this,p1(o),i)}_resetContextStyleTimingState(o){o.currentQuerySelector=N0,o.collectedStyles=new Map,o.collectedStyles.set(N0,new Map),o.currentTime=0}visitTrigger(o,t){let s=t.queryCount=0,i=t.depCount=0,n=[],e=[];return o.name.charAt(0)=="@"&&t.errors.push(z4()),o.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),l.type==M.State){let c=l,r=c.name;r.toString().split(/\s*,\s*/).forEach(g=>{c.name=g,n.push(this.visitState(c,t))}),c.name=r}else if(l.type==M.Transition){let c=this.visitTransition(l,t);s+=c.queryCount,i+=c.depCount,e.push(c)}else t.errors.push(k4())}),{type:M.Trigger,name:o.name,states:n,transitions:e,queryCount:s,depCount:i,options:null}}visitState(o,t){let s=this.visitStyle(o.styles,t),i=o.options&&o.options.params||null;if(s.containsDynamicStyles){let n=new Set,e=i||{};s.styles.forEach(l=>{l instanceof Map&&l.forEach(c=>{o4(c).forEach(r=>{e.hasOwnProperty(r)||n.add(r)})})}),n.size&&t.errors.push(y4(o.name,[...n.values()]))}return{type:M.State,name:o.name,style:s,options:i?{params:i}:null}}visitTransition(o,t){t.queryCount=0,t.depCount=0;let s=b(this,p1(o.animation),t),i=n3(o.expr,t.errors);return{type:M.Transition,matchers:i,animation:s,queryCount:t.queryCount,depCount:t.depCount,options:o1(o.options)}}visitSequence(o,t){return{type:M.Sequence,steps:o.steps.map(s=>b(this,s,t)),options:o1(o.options)}}visitGroup(o,t){let s=t.currentTime,i=0,n=o.steps.map(e=>{t.currentTime=s;let l=b(this,e,t);return i=Math.max(i,t.currentTime),l});return t.currentTime=i,{type:M.Group,steps:n,options:o1(o.options)}}visitAnimate(o,t){let s=v3(o.timings,t.errors);t.currentAnimateTimings=s;let i,n=o.styles?o.styles:Z1({});if(n.type==M.Keyframes)i=this.visitKeyframes(n,t);else{let e=o.styles,l=!1;if(!e){l=!0;let r={};s.easing&&(r.easing=s.easing),e=Z1(r)}t.currentTime+=s.duration+s.delay;let c=this.visitStyle(e,t);c.isEmptyStep=l,i=c}return t.currentAnimateTimings=null,{type:M.Animate,timings:s,style:i,options:null}}visitStyle(o,t){let s=this._makeStyleAst(o,t);return this._validateStyleAst(s,t),s}_makeStyleAst(o,t){let s=[],i=Array.isArray(o.styles)?o.styles:[o.styles];for(let l of i)typeof l=="string"?l===N?s.push(l):t.errors.push(B4(l)):s.push(new Map(Object.entries(l)));let n=!1,e=null;return s.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(e=l.get("easing"),l.delete("easing")),!n)){for(let c of l.values())if(c.toString().indexOf(Z0)>=0){n=!0;break}}}),{type:M.Style,styles:s,easing:e,offset:o.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(o,t){let s=t.currentAnimateTimings,i=t.currentTime,n=t.currentTime;s&&n>0&&(n-=s.duration+s.delay),o.styles.forEach(e=>{typeof e!="string"&&e.forEach((l,c)=>{let r=t.collectedStyles.get(t.currentQuerySelector),g=r.get(c),h=!0;g&&(n!=i&&n>=g.startTime&&i<=g.endTime&&(t.errors.push(L4(c,g.startTime,g.endTime,n,i)),h=!1),n=g.startTime),h&&r.set(c,{startTime:n,endTime:i}),t.options&&o3(l,t.options,t.errors)})})}visitKeyframes(o,t){let s={type:M.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(A4()),s;let i=1,n=0,e=[],l=!1,c=!1,r=0,g=o.steps.map(L=>{let A=this._makeStyleAst(L,t),H=A.offset!=null?A.offset:h3(A.styles),C=0;return H!=null&&(n++,C=A.offset=H),c=c||C<0||C>1,l=l||C<r,r=C,e.push(C),A});c&&t.errors.push(C4()),l&&t.errors.push(S4());let h=o.steps.length,u=0;n>0&&n<h?t.errors.push(H4()):n==0&&(u=i/(h-1));let x=h-1,d=t.currentTime,m=t.currentAnimateTimings,k=m.duration;return g.forEach((L,A)=>{let H=u>0?A==x?1:u*A:e[A],C=H*k;t.currentTime=d+m.delay+C,m.duration=C,this._validateStyleAst(L,t),L.offset=H,s.styles.push(L)}),s}visitReference(o,t){return{type:M.Reference,animation:b(this,p1(o.animation),t),options:o1(o.options)}}visitAnimateChild(o,t){return t.depCount++,{type:M.AnimateChild,options:o1(o.options)}}visitAnimateRef(o,t){return{type:M.AnimateRef,animation:this.visitReference(o.animation,t),options:o1(o.options)}}visitQuery(o,t){let s=t.currentQuerySelector,i=o.options||{};t.queryCount++,t.currentQuery=o;let[n,e]=r3(o.selector);t.currentQuerySelector=s.length?s+" "+n:n,O(t.collectedStyles,t.currentQuerySelector,new Map);let l=b(this,p1(o.animation),t);return t.currentQuery=null,t.currentQuerySelector=s,{type:M.Query,selector:n,limit:i.limit||0,optional:!!i.optional,includeSelf:e,animation:l,originalSelector:o.selector,options:o1(o.options)}}visitStagger(o,t){t.currentQuery||t.errors.push(V4());let s=o.timings==="full"?{duration:0,delay:0,easing:"full"}:O1(o.timings,t.errors,!0);return{type:M.Stagger,animation:b(this,p1(o.animation),t),timings:s,options:null}}};function r3(a){let o=!!a.split(/\s*,\s*/).find(t=>t==t4);return o&&(a=a.replace(c3,"")),a=a.replace(/@\*/g,b1).replace(/@\w+/g,t=>b1+"-"+t.slice(1)).replace(/:animating/g,g2),[a,o]}function g3(a){return a?n1({},a):null}var d2=class{constructor(o){this.errors=o,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function h3(a){if(typeof a=="string")return null;let o=null;if(Array.isArray(a))a.forEach(t=>{if(t instanceof Map&&t.has("offset")){let s=t;o=parseFloat(s.get("offset")),s.delete("offset")}});else if(a instanceof Map&&a.has("offset")){let t=a;o=parseFloat(t.get("offset")),t.delete("offset")}return o}function v3(a,o){if(a.hasOwnProperty("duration"))return a;if(typeof a=="number"){let n=O1(a,o).duration;return a2(n,0,"")}let t=a;if(t.split(/\s+/).some(n=>n.charAt(0)=="{"&&n.charAt(1)=="{")){let n=a2(0,0,"");return n.dynamic=!0,n.strValue=t,n}let i=O1(t,o);return a2(i.duration,i.delay,i.easing)}function o1(a){return a?(a=n1({},a),a.params&&(a.params=g3(a.params))):a={},a}function a2(a,o,t){return{duration:a,delay:o,easing:t}}function j2(a,o,t,s,i,n,e=null,l=!1){return{type:1,element:a,keyframes:o,preStyleProps:t,postStyleProps:s,duration:i,delay:n,totalTime:i+n,easing:e,subTimeline:l}}var u1=class{constructor(){this._map=new Map}get(o){return this._map.get(o)||[]}append(o,t){let s=this._map.get(o);s||this._map.set(o,s=[]),s.push(...t)}has(o){return this._map.has(o)}clear(){this._map.clear()}},w3=1,d3=":enter",p3=new RegExp(d3,"g"),m3=":leave",x3=new RegExp(m3,"g");function i4(a,o,t,s,i,n=new Map,e=new Map,l,c,r=[]){return new p2().buildKeyframes(a,o,t,s,i,n,e,l,c,r)}var p2=class{buildKeyframes(o,t,s,i,n,e,l,c,r,g=[]){r=r||new u1;let h=new m2(o,t,r,i,n,g,[]);h.options=c;let u=c.delay?U(c.delay):0;h.currentTimeline.delayNextStep(u),h.currentTimeline.setStyles([e],null,h.errors,c),b(this,s,h);let x=h.timelines.filter(d=>d.containsAnimation());if(x.length&&l.size){let d;for(let m=x.length-1;m>=0;m--){let k=x[m];if(k.element===t){d=k;break}}d&&!d.allowOnlyTimelineStyles()&&d.setStyles([l],null,h.errors,c)}return x.length?x.map(d=>d.buildKeyframes()):[j2(t,[],[],[],0,u,"",!1)]}visitTrigger(o,t){}visitState(o,t){}visitTransition(o,t){}visitAnimateChild(o,t){let s=t.subInstructions.get(t.element);if(s){let i=t.createSubContext(o.options),n=t.currentTimeline.currentTime,e=this._visitSubInstructions(s,i,i.options);n!=e&&t.transformIntoNewTimeline(e)}t.previousNode=o}visitAnimateRef(o,t){let s=t.createSubContext(o.options);s.transformIntoNewTimeline(),this._applyAnimationRefDelays([o.options,o.animation.options],t,s),this.visitReference(o.animation,s),t.transformIntoNewTimeline(s.currentTimeline.currentTime),t.previousNode=o}_applyAnimationRefDelays(o,t,s){var i;for(let n of o){let e=n==null?void 0:n.delay;if(e){let l=typeof e=="number"?e:U(x1(e,(i=n==null?void 0:n.params)!=null?i:{},t.errors));s.delayNextStep(l)}}}_visitSubInstructions(o,t,s){let n=t.currentTimeline.currentTime,e=s.duration!=null?U(s.duration):null,l=s.delay!=null?U(s.delay):null;return e!==0&&o.forEach(c=>{let r=t.appendInstructionToTimeline(c,e,l);n=Math.max(n,r.duration+r.delay)}),n}visitReference(o,t){t.updateOptions(o.options,!0),b(this,o.animation,t),t.previousNode=o}visitSequence(o,t){let s=t.subContextCount,i=t,n=o.options;if(n&&(n.params||n.delay)&&(i=t.createSubContext(n),i.transformIntoNewTimeline(),n.delay!=null)){i.previousNode.type==M.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=T1);let e=U(n.delay);i.delayNextStep(e)}o.steps.length&&(o.steps.forEach(e=>b(this,e,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>s&&i.transformIntoNewTimeline()),t.previousNode=o}visitGroup(o,t){let s=[],i=t.currentTimeline.currentTime,n=o.options&&o.options.delay?U(o.options.delay):0;o.steps.forEach(e=>{let l=t.createSubContext(o.options);n&&l.delayNextStep(n),b(this,e,l),i=Math.max(i,l.currentTimeline.currentTime),s.push(l.currentTimeline)}),s.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(i),t.previousNode=o}_visitTiming(o,t){if(o.dynamic){let s=o.strValue,i=t.params?x1(s,t.params,t.errors):s;return O1(i,t.errors)}else return{duration:o.duration,delay:o.delay,easing:o.easing}}visitAnimate(o,t){let s=t.currentAnimateTimings=this._visitTiming(o.timings,t),i=t.currentTimeline;s.delay&&(t.incrementTime(s.delay),i.snapshotCurrentStyles());let n=o.style;n.type==M.Keyframes?this.visitKeyframes(n,t):(t.incrementTime(s.duration),this.visitStyle(n,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=o}visitStyle(o,t){let s=t.currentTimeline,i=t.currentAnimateTimings;!i&&s.hasCurrentStyleProperties()&&s.forwardFrame();let n=i&&i.easing||o.easing;o.isEmptyStep?s.applyEmptyStep(n):s.setStyles(o.styles,n,t.errors,t.options),t.previousNode=o}visitKeyframes(o,t){let s=t.currentAnimateTimings,i=t.currentTimeline.duration,n=s.duration,l=t.createSubContext().currentTimeline;l.easing=s.easing,o.styles.forEach(c=>{let r=c.offset||0;l.forwardTime(r*n),l.setStyles(c.styles,c.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(i+n),t.previousNode=o}visitQuery(o,t){let s=t.currentTimeline.currentTime,i=o.options||{},n=i.delay?U(i.delay):0;n&&(t.previousNode.type===M.Style||s==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=T1);let e=s,l=t.invokeQuery(o.selector,o.originalSelector,o.limit,o.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=l.length;let c=null;l.forEach((r,g)=>{t.currentQueryIndex=g;let h=t.createSubContext(o.options,r);n&&h.delayNextStep(n),r===t.element&&(c=h.currentTimeline),b(this,o.animation,h),h.currentTimeline.applyStylesToKeyframe();let u=h.currentTimeline.currentTime;e=Math.max(e,u)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(e),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=o}visitStagger(o,t){let s=t.parentContext,i=t.currentTimeline,n=o.timings,e=Math.abs(n.duration),l=e*(t.currentQueryTotal-1),c=e*t.currentQueryIndex;switch(n.duration<0?"reverse":n.easing){case"reverse":c=l-c;break;case"full":c=s.currentStaggerTime;break}let g=t.currentTimeline;c&&g.delayNextStep(c);let h=g.currentTime;b(this,o.animation,t),t.previousNode=o,s.currentStaggerTime=i.currentTime-h+(i.startTime-s.currentTimeline.startTime)}},T1={},m2=class a{constructor(o,t,s,i,n,e,l,c){this._driver=o,this.element=t,this.subInstructions=s,this._enterClassName=i,this._leaveClassName=n,this.errors=e,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=T1,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new P1(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(o,t){if(!o)return;let s=o,i=this.options;s.duration!=null&&(i.duration=U(s.duration)),s.delay!=null&&(i.delay=U(s.delay));let n=s.params;if(n){let e=i.params;e||(e=this.options.params={}),Object.keys(n).forEach(l=>{(!t||!e.hasOwnProperty(l))&&(e[l]=x1(n[l],e,this.errors))})}}_copyOptions(){let o={};if(this.options){let t=this.options.params;if(t){let s=o.params={};Object.keys(t).forEach(i=>{s[i]=t[i]})}}return o}createSubContext(o=null,t,s){let i=t||this.element,n=new a(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,s||0));return n.previousNode=this.previousNode,n.currentAnimateTimings=this.currentAnimateTimings,n.options=this._copyOptions(),n.updateOptions(o),n.currentQueryIndex=this.currentQueryIndex,n.currentQueryTotal=this.currentQueryTotal,n.parentContext=this,this.subContextCount++,n}transformIntoNewTimeline(o){return this.previousNode=T1,this.currentTimeline=this.currentTimeline.fork(this.element,o),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(o,t,s){let i={duration:t!=null?t:o.duration,delay:this.currentTimeline.currentTime+(s!=null?s:0)+o.delay,easing:""},n=new x2(this._driver,o.element,o.keyframes,o.preStyleProps,o.postStyleProps,i,o.stretchStartingKeyframe);return this.timelines.push(n),i}incrementTime(o){this.currentTimeline.forwardTime(this.currentTimeline.duration+o)}delayNextStep(o){o>0&&this.currentTimeline.delayNextStep(o)}invokeQuery(o,t,s,i,n,e){let l=[];if(i&&l.push(this.element),o.length>0){o=o.replace(p3,"."+this._enterClassName),o=o.replace(x3,"."+this._leaveClassName);let c=s!=1,r=this._driver.query(this.element,o,c);s!==0&&(r=s<0?r.slice(r.length+s,r.length):r.slice(0,s)),l.push(...r)}return!n&&l.length==0&&e.push(j4(t)),l}},P1=class a{constructor(o,t,s,i){this._driver=o,this.element=t,this.startTime=s,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(o){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+o),t&&this.snapshotCurrentStyles()):this.startTime+=o}fork(o,t){return this.applyStylesToKeyframe(),new a(this._driver,o,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=w3,this._loadKeyframe()}forwardTime(o){this.applyStylesToKeyframe(),this.duration=o,this._loadKeyframe()}_updateStyle(o,t){this._localTimelineStyles.set(o,t),this._globalTimelineStyles.set(o,t),this._styleSummary.set(o,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(o){o&&this._previousKeyframe.set("easing",o);for(let[t,s]of this._globalTimelineStyles)this._backFill.set(t,s||N),this._currentKeyframe.set(t,N);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(o,t,s,i){var l;t&&this._previousKeyframe.set("easing",t);let n=i&&i.params||{},e=u3(o,this._globalTimelineStyles);for(let[c,r]of e){let g=x1(r,n,s);this._pendingStyles.set(c,g),this._localTimelineStyles.has(c)||this._backFill.set(c,(l=this._globalTimelineStyles.get(c))!=null?l:N),this._updateStyle(c,g)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((o,t)=>{this._currentKeyframe.set(t,o)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((o,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,o)}))}snapshotCurrentStyles(){for(let[o,t]of this._localTimelineStyles)this._pendingStyles.set(o,t),this._updateStyle(o,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let o=[];for(let t in this._currentKeyframe)o.push(t);return o}mergeTimelineCollectedStyles(o){o._styleSummary.forEach((t,s)=>{let i=this._styleSummary.get(s);(!i||t.time>i.time)&&this._updateStyle(s,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let o=new Set,t=new Set,s=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((l,c)=>{let r=new Map([...this._backFill,...l]);r.forEach((g,h)=>{g===A1?o.add(h):g===N&&t.add(h)}),s||r.set("offset",c/this.duration),i.push(r)});let n=[...o.values()],e=[...t.values()];if(s){let l=i[0],c=new Map(l);l.set("offset",0),c.set("offset",1),i=[l,c]}return j2(this.element,i,n,e,this.duration,this.startTime,this.easing,!1)}},x2=class extends P1{constructor(o,t,s,i,n,e,l=!1){super(o,t,e.delay),this.keyframes=s,this.preStyleProps=i,this.postStyleProps=n,this._stretchStartingKeyframe=l,this.timings={duration:e.duration,delay:e.delay,easing:e.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let o=this.keyframes,{delay:t,duration:s,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let n=[],e=s+t,l=t/e,c=new Map(o[0]);c.set("offset",0),n.push(c);let r=new Map(o[0]);r.set("offset",F0(l)),n.push(r);let g=o.length-1;for(let h=1;h<=g;h++){let u=new Map(o[h]),x=u.get("offset"),d=t+x*s;u.set("offset",F0(d/e)),n.push(u)}s=e,t=0,i="",o=n}return j2(this.element,o,this.preStyleProps,this.postStyleProps,s,t,i,!0)}};function F0(a,o=3){let t=Math.pow(10,o-1);return Math.round(a*t)/t}function u3(a,o){let t=new Map,s;return a.forEach(i=>{if(i==="*"){s!=null||(s=o.keys());for(let n of s)t.set(n,N)}else for(let[n,e]of i)t.set(n,e)}),t}function R0(a,o,t,s,i,n,e,l,c,r,g,h,u){return{type:0,element:a,triggerName:o,isRemovalTransition:i,fromState:t,fromStyles:n,toState:s,toStyles:e,timelines:l,queriedElements:c,preStyleProps:r,postStyleProps:g,totalTime:h,errors:u}}var n2={},q1=class{constructor(o,t,s){this._triggerName=o,this.ast=t,this._stateStyles=s}match(o,t,s,i){return f3(this.ast.matchers,o,t,s,i)}buildStyles(o,t,s){let i=this._stateStyles.get("*");return o!==void 0&&(i=this._stateStyles.get(o==null?void 0:o.toString())||i),i?i.buildStyles(t,s):new Map}build(o,t,s,i,n,e,l,c,r,g){var q;let h=[],u=this.ast.options&&this.ast.options.params||n2,x=l&&l.params||n2,d=this.buildStyles(s,x,h),m=c&&c.params||n2,k=this.buildStyles(i,m,h),L=new Set,A=new Map,H=new Map,C=i==="void",a1={params:a4(m,u),delay:(q=this.ast.options)==null?void 0:q.delay},P=g?[]:i4(o,t,this.ast.animation,n,e,d,k,a1,r,h),V=0;return P.forEach(R=>{V=Math.max(R.duration+R.delay,V)}),h.length?R0(t,this._triggerName,s,i,C,d,k,[],[],A,H,V,h):(P.forEach(R=>{let I=R.element,E2=O(A,I,new Set);R.preStyleProps.forEach($=>E2.add($));let w1=O(H,I,new Set);R.postStyleProps.forEach($=>w1.add($)),I!==t&&L.add(I)}),R0(t,this._triggerName,s,i,C,d,k,P,[...L.values()],A,H,V))}};function f3(a,o,t,s,i){return a.some(n=>n(o,t,s,i))}function a4(a,o){let t=n1({},o);return Object.entries(a).forEach(([s,i])=>{i!=null&&(t[s]=i)}),t}var u2=class{constructor(o,t,s){this.styles=o,this.defaultParams=t,this.normalizer=s}buildStyles(o,t){let s=new Map,i=a4(o,this.defaultParams);return this.styles.styles.forEach(n=>{typeof n!="string"&&n.forEach((e,l)=>{e&&(e=x1(e,i,t));let c=this.normalizer.normalizePropertyName(l,t);e=this.normalizer.normalizeStyleValue(l,c,e,t),s.set(l,e)})}),s}};function M3(a,o,t){return new f2(a,o,t)}var f2=class{constructor(o,t,s){this.name=o,this.ast=t,this._normalizer=s,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let n=i.options&&i.options.params||{};this.states.set(i.name,new u2(i.style,n,s))}),I0(this.states,"true","1"),I0(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new q1(o,i,this.states))}),this.fallbackTransition=z3(o,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(o,t,s,i){return this.transitionFactories.find(e=>e.match(o,t,s,i))||null}matchStyles(o,t,s){return this.fallbackTransition.buildStyles(o,t,s)}};function z3(a,o,t){let s=[(e,l)=>!0],i={type:M.Sequence,steps:[],options:null},n={type:M.Transition,animation:i,matchers:s,options:null,queryCount:0,depCount:0};return new q1(a,n,o)}function I0(a,o,t){a.has(o)?a.has(t)||a.set(t,a.get(o)):a.has(t)&&a.set(o,a.get(t))}var k3=new u1,M2=class{constructor(o,t,s){this.bodyNode=o,this._driver=t,this._normalizer=s,this._animations=new Map,this._playersById=new Map,this.players=[]}register(o,t){let s=[],i=[],n=s4(this._driver,t,s,i);if(s.length)throw T4(s);i.length&&void 0,this._animations.set(o,n)}_buildPlayer(o,t,s){let i=o.element,n=G0(this._normalizer,o.keyframes,t,s);return this._driver.animate(i,n,o.duration,o.delay,o.easing,[],!0)}create(o,t,s={}){let i=[],n=this._animations.get(o),e,l=new Map;if(n?(e=i4(this._driver,t,n,J0,r2,new Map,new Map,s,k3,i),e.forEach(g=>{let h=O(l,g.element,new Map);g.postStyleProps.forEach(u=>h.set(u,null))})):(i.push(P4()),e=[]),i.length)throw q4(i);l.forEach((g,h)=>{g.forEach((u,x)=>{g.set(x,this._driver.computeStyle(h,x,N))})});let c=e.map(g=>{let h=l.get(g.element);return this._buildPlayer(g,new Map,h)}),r=Q(c);return this._playersById.set(o,r),r.onDestroy(()=>this.destroy(o)),this.players.push(r),r}destroy(o){let t=this._getPlayer(o);t.destroy(),this._playersById.delete(o);let s=this.players.indexOf(t);s>=0&&this.players.splice(s,1)}_getPlayer(o){let t=this._playersById.get(o);if(!t)throw D4(o);return t}listen(o,t,s,i){let n=A2(t,"","","");return L2(this._getPlayer(o),s,n,i),()=>{}}command(o,t,s,i){if(s=="register"){this.register(o,i[0]);return}if(s=="create"){let e=i[0]||{};this.create(o,t,e);return}let n=this._getPlayer(o);switch(s){case"play":n.play();break;case"pause":n.pause();break;case"reset":n.reset();break;case"restart":n.restart();break;case"finish":n.finish();break;case"init":n.init();break;case"setPosition":n.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(o);break}}},U0="ng-animate-queued",y3=".ng-animate-queued",e2="ng-animate-disabled",B3=".ng-animate-disabled",L3="ng-star-inserted",A3=".ng-star-inserted",C3=[],n4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},S3={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},T="__ng_removed",f1=class{get params(){return this.options.params}constructor(o,t=""){this.namespaceId=t;let s=o&&o.hasOwnProperty("value"),i=s?o.value:o;if(this.value=V3(i),s){let n=o,{value:e}=n,l=q2(n,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(o){let t=o.params;if(t){let s=this.options.params;Object.keys(t).forEach(i=>{s[i]==null&&(s[i]=t[i])})}}},m1="void",l2=new f1(m1),z2=class{constructor(o,t,s){this.id=o,this.hostElement=t,this._engine=s,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+o,_(t,this._hostClassName)}listen(o,t,s,i){if(!this._triggers.has(t))throw N4(s,t);if(s==null||s.length==0)throw F4(t);if(!j3(s))throw R4(s,t);let n=O(this._elementListeners,o,[]),e={name:t,phase:s,callback:i};n.push(e);let l=O(this._engine.statesByElement,o,new Map);return l.has(t)||(_(o,C1),_(o,C1+"-"+t),l.set(t,l2)),()=>{this._engine.afterFlush(()=>{let c=n.indexOf(e);c>=0&&n.splice(c,1),this._triggers.has(t)||l.delete(t)})}}register(o,t){return this._triggers.has(o)?!1:(this._triggers.set(o,t),!0)}_getTrigger(o){let t=this._triggers.get(o);if(!t)throw I4(o);return t}trigger(o,t,s,i=!0){let n=this._getTrigger(t),e=new M1(this.id,t,o),l=this._engine.statesByElement.get(o);l||(_(o,C1),_(o,C1+"-"+t),this._engine.statesByElement.set(o,l=new Map));let c=l.get(t),r=new f1(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&c&&r.absorbOptions(c.options),l.set(t,r),c||(c=l2),!(r.value===m1)&&c.value===r.value){if(!E3(c.params,r.params)){let m=[],k=n.matchStyles(c.value,c.params,m),L=n.matchStyles(r.value,r.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{t1(o,k),F(o,L)})}return}let u=O(this._engine.playersByElement,o,[]);u.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let x=n.matchTransition(c.value,r.value,o,r.params),d=!1;if(!x){if(!i)return;x=n.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:t,transition:x,fromState:c,toState:r,player:e,isFallbackTransition:d}),d||(_(o,U0),e.onStart(()=>{r1(o,U0)})),e.onDone(()=>{let m=this.players.indexOf(e);m>=0&&this.players.splice(m,1);let k=this._engine.playersByElement.get(o);if(k){let L=k.indexOf(e);L>=0&&k.splice(L,1)}}),this.players.push(e),u.push(e),e}deregister(o){this._triggers.delete(o),this._engine.statesByElement.forEach(t=>t.delete(o)),this._elementListeners.forEach((t,s)=>{this._elementListeners.set(s,t.filter(i=>i.name!=o))})}clearElementCache(o){this._engine.statesByElement.delete(o),this._elementListeners.delete(o);let t=this._engine.playersByElement.get(o);t&&(t.forEach(s=>s.destroy()),this._engine.playersByElement.delete(o))}_signalRemovalForInnerTriggers(o,t){let s=this._engine.driver.query(o,b1,!0);s.forEach(i=>{if(i[T])return;let n=this._engine.fetchNamespacesByElement(i);n.size?n.forEach(e=>e.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(o,t,s,i){let n=this._engine.statesByElement.get(o),e=new Map;if(n){let l=[];if(n.forEach((c,r)=>{if(e.set(r,c.value),this._triggers.has(r)){let g=this.trigger(o,r,m1,i);g&&l.push(g)}}),l.length)return this._engine.markElementAsRemoved(this.id,o,!0,t,e),s&&Q(l).onDone(()=>this._engine.processLeaveNode(o)),!0}return!1}prepareLeaveAnimationListeners(o){let t=this._elementListeners.get(o),s=this._engine.statesByElement.get(o);if(t&&s){let i=new Set;t.forEach(n=>{let e=n.name;if(i.has(e))return;i.add(e);let c=this._triggers.get(e).fallbackTransition,r=s.get(e)||l2,g=new f1(m1),h=new M1(this.id,e,o);this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:e,transition:c,fromState:r,toState:g,player:h,isFallbackTransition:!0})})}}removeNode(o,t){let s=this._engine;if(o.childElementCount&&this._signalRemovalForInnerTriggers(o,t),this.triggerLeaveAnimation(o,t,!0))return;let i=!1;if(s.totalAnimations){let n=s.players.length?s.playersByQueriedElement.get(o):[];if(n&&n.length)i=!0;else{let e=o;for(;e=e.parentNode;)if(s.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(o),i)s.markElementAsRemoved(this.id,o,!1,t);else{let n=o[T];(!n||n===n4)&&(s.afterFlush(()=>this.clearElementCache(o)),s.destroyInnerAnimations(o),s._onRemovalComplete(o,t))}}insertNode(o,t){_(o,this._hostClassName)}drainQueuedTransitions(o){let t=[];return this._queue.forEach(s=>{let i=s.player;if(i.destroyed)return;let n=s.element,e=this._elementListeners.get(n);e&&e.forEach(l=>{if(l.name==s.triggerName){let c=A2(n,s.triggerName,s.fromState.value,s.toState.value);c._data=o,L2(s.player,l.phase,c,l.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(s)}),this._queue=[],t.sort((s,i)=>{let n=s.transition.ast.depCount,e=i.transition.ast.depCount;return n==0||e==0?n-e:this._engine.driver.containsElement(s.element,i.element)?1:-1})}destroy(o){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,o)}},k2=class{_onRemovalComplete(o,t){this.onRemovalComplete(o,t)}constructor(o,t,s){this.bodyNode=o,this.driver=t,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,n)=>{}}get queuedPlayers(){let o=[];return this._namespaceList.forEach(t=>{t.players.forEach(s=>{s.queued&&o.push(s)})}),o}createNamespace(o,t){let s=new z2(o,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(s,t):(this.newHostElements.set(t,s),this.collectEnterElement(t)),this._namespaceLookup[o]=s}_balanceNamespaceList(o,t){let s=this._namespaceList,i=this.namespacesByHostElement;if(s.length-1>=0){let e=!1,l=this.driver.getParentElement(t);for(;l;){let c=i.get(l);if(c){let r=s.indexOf(c);s.splice(r+1,0,o),e=!0;break}l=this.driver.getParentElement(l)}e||s.unshift(o)}else s.push(o);return i.set(t,o),o}register(o,t){let s=this._namespaceLookup[o];return s||(s=this.createNamespace(o,t)),s}registerTrigger(o,t,s){let i=this._namespaceLookup[o];i&&i.register(t,s)&&this.totalAnimations++}destroy(o,t){o&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let s=this._fetchNamespace(o);this.namespacesByHostElement.delete(s.hostElement);let i=this._namespaceList.indexOf(s);i>=0&&this._namespaceList.splice(i,1),s.destroy(t),delete this._namespaceLookup[o]}))}_fetchNamespace(o){return this._namespaceLookup[o]}fetchNamespacesByElement(o){let t=new Set,s=this.statesByElement.get(o);if(s){for(let i of s.values())if(i.namespaceId){let n=this._fetchNamespace(i.namespaceId);n&&t.add(n)}}return t}trigger(o,t,s,i){if(V1(t)){let n=this._fetchNamespace(o);if(n)return n.trigger(t,s,i),!0}return!1}insertNode(o,t,s,i){if(!V1(t))return;let n=t[T];if(n&&n.setForRemoval){n.setForRemoval=!1,n.setForMove=!0;let e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(o){let e=this._fetchNamespace(o);e&&e.insertNode(t,s)}i&&this.collectEnterElement(t)}collectEnterElement(o){this.collectedEnterElements.push(o)}markElementAsDisabled(o,t){t?this.disabledNodes.has(o)||(this.disabledNodes.add(o),_(o,e2)):this.disabledNodes.has(o)&&(this.disabledNodes.delete(o),r1(o,e2))}removeNode(o,t,s){if(V1(t)){let i=o?this._fetchNamespace(o):null;i?i.removeNode(t,s):this.markElementAsRemoved(o,t,!1,s);let n=this.namespacesByHostElement.get(t);n&&n.id!==o&&n.removeNode(t,s)}else this._onRemovalComplete(t,s)}markElementAsRemoved(o,t,s,i,n){this.collectedLeaveElements.push(t),t[T]={namespaceId:o,setForRemoval:i,hasAnimation:s,removedBeforeQueried:!1,previousTriggersValues:n}}listen(o,t,s,i,n){return V1(t)?this._fetchNamespace(o).listen(t,s,i,n):()=>{}}_buildInstruction(o,t,s,i,n){return o.transition.build(this.driver,o.element,o.fromState.value,o.toState.value,s,i,o.fromState.options,o.toState.options,t,n)}destroyInnerAnimations(o){let t=this.driver.query(o,b1,!0);t.forEach(s=>this.destroyActiveAnimationsForElement(s)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(o,g2,!0),t.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(o){let t=this.playersByElement.get(o);t&&t.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(o){let t=this.playersByQueriedElement.get(o);t&&t.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(o=>{if(this.players.length)return Q(this.players).onDone(()=>o());o()})}processLeaveNode(o){var s;let t=o[T];if(t&&t.setForRemoval){if(o[T]=n4,t.namespaceId){this.destroyInnerAnimations(o);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(o)}this._onRemovalComplete(o,t.setForRemoval)}(s=o.classList)!=null&&s.contains(e2)&&this.markElementAsDisabled(o,!1),this.driver.query(o,B3,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(o=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,i)=>this._balanceNamespaceList(s,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++){let i=this.collectedEnterElements[s];_(i,L3)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let s=[];try{t=this._flushAnimations(s,o)}finally{for(let i=0;i<s.length;i++)s[i]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++){let i=this.collectedLeaveElements[s];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){let s=this._whenQuietFns;this._whenQuietFns=[],t.length?Q(t).onDone(()=>{s.forEach(i=>i())}):s.forEach(i=>i())}}reportError(o){throw U4(o)}_flushAnimations(o,t){let s=new u1,i=[],n=new Map,e=[],l=new Map,c=new Map,r=new Map,g=new Set;this.disabledNodes.forEach(v=>{g.add(v);let w=this.driver.query(v,y3,!0);for(let p=0;p<w.length;p++)g.add(w[p])});let h=this.bodyNode,u=Array.from(this.statesByElement.keys()),x=$0(u,this.collectedEnterElements),d=new Map,m=0;x.forEach((v,w)=>{let p=J0+m++;d.set(w,p),v.forEach(f=>_(f,p))});let k=[],L=new Set,A=new Set;for(let v=0;v<this.collectedLeaveElements.length;v++){let w=this.collectedLeaveElements[v],p=w[T];p&&p.setForRemoval&&(k.push(w),L.add(w),p.hasAnimation?this.driver.query(w,A3,!0).forEach(f=>L.add(f)):A.add(w))}let H=new Map,C=$0(u,Array.from(L));C.forEach((v,w)=>{let p=r2+m++;H.set(w,p),v.forEach(f=>_(f,p))}),o.push(()=>{x.forEach((v,w)=>{let p=d.get(w);v.forEach(f=>r1(f,p))}),C.forEach((v,w)=>{let p=H.get(w);v.forEach(f=>r1(f,p))}),k.forEach(v=>{this.processLeaveNode(v)})});let a1=[],P=[];for(let v=this._namespaceList.length-1;v>=0;v--)this._namespaceList[v].drainQueuedTransitions(t).forEach(p=>{let f=p.player,B=p.element;if(a1.push(f),this.collectedEnterElements.length){let S=B[T];if(S&&S.setForMove){if(S.previousTriggersValues&&S.previousTriggersValues.has(p.triggerName)){let W=S.previousTriggersValues.get(p.triggerName),E=this.statesByElement.get(p.element);if(E&&E.has(p.triggerName)){let y1=E.get(p.triggerName);y1.value=W,E.set(p.triggerName,y1)}}f.destroy();return}}let D=!h||!this.driver.containsElement(h,B),j=H.get(B),K=d.get(B),y=this._buildInstruction(p,s,K,j,D);if(y.errors&&y.errors.length){P.push(y);return}if(D){f.onStart(()=>t1(B,y.fromStyles)),f.onDestroy(()=>F(B,y.toStyles)),i.push(f);return}if(p.isFallbackTransition){f.onStart(()=>t1(B,y.fromStyles)),f.onDestroy(()=>F(B,y.toStyles)),i.push(f);return}let P2=[];y.timelines.forEach(S=>{S.stretchStartingKeyframe=!0,this.disabledNodes.has(S.element)||P2.push(S)}),y.timelines=P2,s.append(B,y.timelines);let w4={instruction:y,player:f,element:B};e.push(w4),y.queriedElements.forEach(S=>O(l,S,[]).push(f)),y.preStyleProps.forEach((S,W)=>{if(S.size){let E=c.get(W);E||c.set(W,E=new Set),S.forEach((y1,I1)=>E.add(I1))}}),y.postStyleProps.forEach((S,W)=>{let E=r.get(W);E||r.set(W,E=new Set),S.forEach((y1,I1)=>E.add(I1))})});if(P.length){let v=[];P.forEach(w=>{v.push(K4(w.triggerName,w.errors))}),a1.forEach(w=>w.destroy()),this.reportError(v)}let V=new Map,q=new Map;e.forEach(v=>{let w=v.element;s.has(w)&&(q.set(w,w),this._beforeAnimationBuild(v.player.namespaceId,v.instruction,V))}),i.forEach(v=>{let w=v.element;this._getPreviousPlayers(w,!1,v.namespaceId,v.triggerName,null).forEach(f=>{O(V,w,[]).push(f),f.destroy()})});let R=k.filter(v=>W0(v,c,r)),I=new Map;Q0(I,this.driver,A,r,N).forEach(v=>{W0(v,c,r)&&R.push(v)});let w1=new Map;x.forEach((v,w)=>{Q0(w1,this.driver,new Set(v),c,A1)}),R.forEach(v=>{var f,B;let w=I.get(v),p=w1.get(v);I.set(v,new Map([...(f=w==null?void 0:w.entries())!=null?f:[],...(B=p==null?void 0:p.entries())!=null?B:[]]))});let $=[],_2=[],T2={};e.forEach(v=>{let{element:w,player:p,instruction:f}=v;if(s.has(w)){if(g.has(w)){p.onDestroy(()=>F(w,f.toStyles)),p.disabled=!0,p.overrideTotalTime(f.totalTime),i.push(p);return}let B=T2;if(q.size>1){let j=w,K=[];for(;j=j.parentNode;){let y=q.get(j);if(y){B=y;break}K.push(j)}K.forEach(y=>q.set(y,B))}let D=this._buildAnimation(p.namespaceId,f,V,n,w1,I);if(p.setRealPlayer(D),B===T2)$.push(p);else{let j=this.playersByElement.get(B);j&&j.length&&(p.parentPlayer=Q(j)),i.push(p)}}else t1(w,f.fromStyles),p.onDestroy(()=>F(w,f.toStyles)),_2.push(p),g.has(w)&&i.push(p)}),_2.forEach(v=>{let w=n.get(v.element);if(w&&w.length){let p=Q(w);v.setRealPlayer(p)}}),i.forEach(v=>{v.parentPlayer?v.syncPlayerEvents(v.parentPlayer):v.destroy()});for(let v=0;v<k.length;v++){let w=k[v],p=w[T];if(r1(w,r2),p&&p.hasAnimation)continue;let f=[];if(l.size){let D=l.get(w);D&&D.length&&f.push(...D);let j=this.driver.query(w,g2,!0);for(let K=0;K<j.length;K++){let y=l.get(j[K]);y&&y.length&&f.push(...y)}}let B=f.filter(D=>!D.destroyed);B.length?b3(this,w,B):this.processLeaveNode(w)}return k.length=0,$.forEach(v=>{this.players.push(v),v.onDone(()=>{v.destroy();let w=this.players.indexOf(v);this.players.splice(w,1)}),v.play()}),$}afterFlush(o){this._flushFns.push(o)}afterFlushAnimationsDone(o){this._whenQuietFns.push(o)}_getPreviousPlayers(o,t,s,i,n){let e=[];if(t){let l=this.playersByQueriedElement.get(o);l&&(e=l)}else{let l=this.playersByElement.get(o);if(l){let c=!n||n==m1;l.forEach(r=>{r.queued||!c&&r.triggerName!=i||e.push(r)})}}return(s||i)&&(e=e.filter(l=>!(s&&s!=l.namespaceId||i&&i!=l.triggerName))),e}_beforeAnimationBuild(o,t,s){let i=t.triggerName,n=t.element,e=t.isRemovalTransition?void 0:o,l=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let r=c.element,g=r!==n,h=O(s,r,[]);this._getPreviousPlayers(r,g,e,l,t.toState).forEach(x=>{let d=x.getRealPlayer();d.beforeDestroy&&d.beforeDestroy(),x.destroy(),h.push(x)})}t1(n,t.fromStyles)}_buildAnimation(o,t,s,i,n,e){let l=t.triggerName,c=t.element,r=[],g=new Set,h=new Set,u=t.timelines.map(d=>{let m=d.element;g.add(m);let k=m[T];if(k&&k.removedBeforeQueried)return new c1(d.duration,d.delay);let L=m!==c,A=O3((s.get(m)||C3).map(V=>V.getRealPlayer())).filter(V=>{let q=V;return q.element?q.element===m:!1}),H=n.get(m),C=e.get(m),a1=G0(this._normalizer,d.keyframes,H,C),P=this._buildPlayer(d,a1,A);if(d.subTimeline&&i&&h.add(m),L){let V=new M1(o,l,m);V.setRealPlayer(P),r.push(V)}return P});r.forEach(d=>{O(this.playersByQueriedElement,d.element,[]).push(d),d.onDone(()=>H3(this.playersByQueriedElement,d.element,d))}),g.forEach(d=>_(d,q0));let x=Q(u);return x.onDestroy(()=>{g.forEach(d=>r1(d,q0)),F(c,t.toStyles)}),h.forEach(d=>{O(i,d,[]).push(x)}),x}_buildPlayer(o,t,s){return t.length>0?this.driver.animate(o.element,t,o.duration,o.delay,o.easing,s):new c1(o.duration,o.delay)}},M1=class{constructor(o,t,s){this.namespaceId=o,this.triggerName=t,this.element=s,this._player=new c1,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(o){this._containsRealPlayer||(this._player=o,this._queuedCallbacks.forEach((t,s)=>{t.forEach(i=>L2(o,s,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(o.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(o){this.totalTime=o}syncPlayerEvents(o){let t=this._player;t.triggerCallback&&o.onStart(()=>t.triggerCallback("start")),o.onDone(()=>this.finish()),o.onDestroy(()=>this.destroy())}_queueEvent(o,t){O(this._queuedCallbacks,o,[]).push(t)}onDone(o){this.queued&&this._queueEvent("done",o),this._player.onDone(o)}onStart(o){this.queued&&this._queueEvent("start",o),this._player.onStart(o)}onDestroy(o){this.queued&&this._queueEvent("destroy",o),this._player.onDestroy(o)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(o){this.queued||this._player.setPosition(o)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(o){let t=this._player;t.triggerCallback&&t.triggerCallback(o)}};function H3(a,o,t){let s=a.get(o);if(s){if(s.length){let i=s.indexOf(t);s.splice(i,1)}s.length==0&&a.delete(o)}return s}function V3(a){return a!=null?a:null}function V1(a){return a&&a.nodeType===1}function j3(a){return a=="start"||a=="done"}function K0(a,o){let t=a.style.display;return a.style.display=o!=null?o:"none",t}function Q0(a,o,t,s,i){let n=[];t.forEach(c=>n.push(K0(c)));let e=[];s.forEach((c,r)=>{let g=new Map;c.forEach(h=>{let u=o.computeStyle(r,h,i);g.set(h,u),(!u||u.length==0)&&(r[T]=S3,e.push(r))}),a.set(r,g)});let l=0;return t.forEach(c=>K0(c,n[l++])),e}function $0(a,o){let t=new Map;if(a.forEach(l=>t.set(l,[])),o.length==0)return t;let s=1,i=new Set(o),n=new Map;function e(l){if(!l)return s;let c=n.get(l);if(c)return c;let r=l.parentNode;return t.has(r)?c=r:i.has(r)?c=s:c=e(r),n.set(l,c),c}return o.forEach(l=>{let c=e(l);c!==s&&t.get(c).push(l)}),t}function _(a,o){var t;(t=a.classList)==null||t.add(o)}function r1(a,o){var t;(t=a.classList)==null||t.remove(o)}function b3(a,o,t){Q(t).onDone(()=>a.processLeaveNode(o))}function O3(a){let o=[];return e4(a,o),o}function e4(a,o){for(let t=0;t<a.length;t++){let s=a[t];s instanceof J1?e4(s.players,o):o.push(s)}}function E3(a,o){let t=Object.keys(a),s=Object.keys(o);if(t.length!=s.length)return!1;for(let i=0;i<t.length;i++){let n=t[i];if(!o.hasOwnProperty(n)||a[n]!==o[n])return!1}return!0}function W0(a,o,t){let s=t.get(a);if(!s)return!1;let i=o.get(a);return i?s.forEach(n=>i.add(n)):o.set(a,s),t.delete(a),!0}var h1=class{constructor(o,t,s){this._driver=t,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(i,n)=>{},this._transitionEngine=new k2(o.body,t,s),this._timelineEngine=new M2(o.body,t,s),this._transitionEngine.onRemovalComplete=(i,n)=>this.onRemovalComplete(i,n)}registerTrigger(o,t,s,i,n){let e=o+"-"+i,l=this._triggerCache[e];if(!l){let c=[],r=[],g=s4(this._driver,n,c,r);if(c.length)throw E4(i,c);r.length&&void 0,l=M3(i,g,this._normalizer),this._triggerCache[e]=l}this._transitionEngine.registerTrigger(t,i,l)}register(o,t){this._transitionEngine.register(o,t)}destroy(o,t){this._transitionEngine.destroy(o,t)}onInsert(o,t,s,i){this._transitionEngine.insertNode(o,t,s,i)}onRemove(o,t,s){this._transitionEngine.removeNode(o,t,s)}disableAnimations(o,t){this._transitionEngine.markElementAsDisabled(o,t)}process(o,t,s,i){if(s.charAt(0)=="@"){let[n,e]=T0(s),l=i;this._timelineEngine.command(n,t,e,l)}else this._transitionEngine.trigger(o,t,s,i)}listen(o,t,s,i,n){if(s.charAt(0)=="@"){let[e,l]=T0(s);return this._timelineEngine.listen(e,t,l,n)}return this._transitionEngine.listen(o,t,s,i,n)}flush(o=-1){this._transitionEngine.flush(o)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(o){this._transitionEngine.afterFlushAnimationsDone(o)}};function _3(a,o){let t=null,s=null;return Array.isArray(o)&&o.length?(t=c2(o[0]),o.length>1&&(s=c2(o[o.length-1]))):o instanceof Map&&(t=c2(o)),t||s?new y2(a,t,s):null}var g1=class g1{constructor(o,t,s){this._element=o,this._startStyles=t,this._endStyles=s,this._state=0;let i=g1.initialStylesByElement.get(o);i||g1.initialStylesByElement.set(o,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&F(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(F(this._element,this._initialStyles),this._endStyles&&(F(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(g1.initialStylesByElement.delete(this._element),this._startStyles&&(t1(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(t1(this._element,this._endStyles),this._endStyles=null),F(this._element,this._initialStyles),this._state=3)}};g1.initialStylesByElement=new WeakMap;var y2=g1;function c2(a){let o=null;return a.forEach((t,s)=>{T3(s)&&(o=o||new Map,o.set(s,t))}),o}function T3(a){return a==="display"||a==="position"}var D1=class{constructor(o,t,s,i){this.element=o,this.keyframes=t,this.options=s,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let o=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,o,this.options),this._finalKeyframe=o.length?o[o.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(o){let t=[];return o.forEach(s=>{t.push(Object.fromEntries(s))}),t}_triggerWebAnimation(o,t,s){return o.animate(this._convertKeyframesToObject(t),s)}onStart(o){this._originalOnStartFns.push(o),this._onStartFns.push(o)}onDone(o){this._originalOnDoneFns.push(o),this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(o=>o()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}setPosition(o){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=o*this.time}getPosition(){var o;return+((o=this.domPlayer.currentTime)!=null?o:0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let o=new Map;this.hasStarted()&&this._finalKeyframe.forEach((s,i)=>{i!=="offset"&&o.set(i,this._finished?s:V2(this.element,i))}),this.currentSnapshot=o}triggerCallback(o){let t=o==="start"?this._onStartFns:this._onDoneFns;t.forEach(s=>s()),t.length=0}},N1=class{validateStyleProperty(o){return!0}validateAnimatableStyleProperty(o){return!0}containsElement(o,t){return Y0(o,t)}getParentElement(o){return C2(o)}query(o,t,s){return X0(o,t,s)}computeStyle(o,t,s){return V2(o,t)}animate(o,t,s,i,n,e=[]){let l=i==0?"both":"forwards",c={duration:s,delay:i,fill:l};n&&(c.easing=n);let r=new Map,g=e.filter(x=>x instanceof D1);s3(s,i)&&g.forEach(x=>{x.currentSnapshot.forEach((d,m)=>r.set(m,d))});let h=J4(t).map(x=>new Map(x));h=i3(o,h,r);let u=_3(o,h);return new D1(o,h,c,u)}};var j1="@",l4="@.disabled",F1=class{constructor(o,t,s,i){this.namespaceId=o,this.delegate=t,this.engine=s,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(o){var t,s;(s=(t=this.delegate).destroyNode)==null||s.call(t,o)}destroy(){var o;this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),(o=this._onDestroy)==null||o.call(this)}createElement(o,t){return this.delegate.createElement(o,t)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}appendChild(o,t){this.delegate.appendChild(o,t),this.engine.onInsert(this.namespaceId,t,o,!1)}insertBefore(o,t,s,i=!0){this.delegate.insertBefore(o,t,s),this.engine.onInsert(this.namespaceId,t,o,i)}removeChild(o,t,s){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(o,t){return this.delegate.selectRootElement(o,t)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,t,s,i){this.delegate.setAttribute(o,t,s,i)}removeAttribute(o,t,s){this.delegate.removeAttribute(o,t,s)}addClass(o,t){this.delegate.addClass(o,t)}removeClass(o,t){this.delegate.removeClass(o,t)}setStyle(o,t,s,i){this.delegate.setStyle(o,t,s,i)}removeStyle(o,t,s){this.delegate.removeStyle(o,t,s)}setProperty(o,t,s){t.charAt(0)==j1&&t==l4?this.disableAnimations(o,!!s):this.delegate.setProperty(o,t,s)}setValue(o,t){this.delegate.setValue(o,t)}listen(o,t,s){return this.delegate.listen(o,t,s)}disableAnimations(o,t){this.engine.disableAnimations(o,t)}},B2=class extends F1{constructor(o,t,s,i,n){super(t,s,i,n),this.factory=o,this.namespaceId=t}setProperty(o,t,s){t.charAt(0)==j1?t.charAt(1)=="."&&t==l4?(s=s===void 0?!0:!!s,this.disableAnimations(o,s)):this.engine.process(this.namespaceId,o,t.slice(1),s):this.delegate.setProperty(o,t,s)}listen(o,t,s){if(t.charAt(0)==j1){let i=P3(o),n=t.slice(1),e="";return n.charAt(0)!=j1&&([n,e]=q3(n)),this.engine.listen(this.namespaceId,i,n,e,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,s,l)})}return this.delegate.listen(o,t,s)}};function P3(a){switch(a){case"body":return document.body;case"document":return document;case"window":return window;default:return a}}function q3(a){let o=a.indexOf("."),t=a.substring(0,o),s=a.slice(o+1);return[t,s]}var R1=class{constructor(o,t,s){this.delegate=o,this.engine=t,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,n)=>{let e=n==null?void 0:n.parentNode(i);e&&n.removeChild(e,i)}}createRenderer(o,t){var r;let s="",i=this.delegate.createRenderer(o,t);if(!o||!((r=t==null?void 0:t.data)!=null&&r.animation)){let g=this._rendererCache,h=g.get(i);if(!h){let u=()=>g.delete(i);h=new F1(s,i,this.engine,u),g.set(i,h)}return h}let n=t.id,e=t.id+"-"+this._currentId;this._currentId++,this.engine.register(e,o);let l=g=>{Array.isArray(g)?g.forEach(l):this.engine.registerTrigger(n,e,o,g.name,g)};return t.data.animation.forEach(l),new B2(this,e,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(o,t,s){if(o>=0&&o<this._microtaskId){this._zone.run(()=>t(s));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(n=>{let[e,l]=n;e(l)}),this._animationCallbacksBuffer=[]})}),i.push([t,s])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var R3=(()=>{let o=class o extends h1{constructor(s,i,n){super(s,i,n)}ngOnDestroy(){this.flush()}};o.\u0275fac=function(i){return new(i||o)(Z(s0),Z(s1),Z(i1))},o.\u0275prov=X({token:o,factory:o.\u0275fac});let a=o;return a})();function I3(){return new E1}function U3(a,o,t){return new R1(a,o,t)}var c4=[{provide:i1,useFactory:I3},{provide:h1,useClass:R3},{provide:G2,useFactory:U3,deps:[i0,h1,L1]}],K3=[{provide:s1,useFactory:()=>new N1},{provide:W1,useValue:"BrowserAnimations"},...c4],f6=[{provide:s1,useClass:S2},{provide:W1,useValue:"NoopAnimations"},...c4];function r4(){return Y2("NgEagerAnimations"),[...K3]}var k1="Service workers are disabled or not supported by this browser";function Q3(a){return U1(()=>N2(new Error(a)))}var v1=class{constructor(o){if(this.serviceWorker=o,!o)this.worker=this.events=this.registration=Q3(k1);else{let s=K1(o,"controllerchange").pipe(G(()=>o.controller)),i=U1(()=>B1(o.controller)),n=F2(i,s);this.worker=n.pipe(l1(g=>!!g)),this.registration=this.worker.pipe(d1(()=>o.getRegistration()));let r=K1(o,"message").pipe(G(g=>g.data)).pipe(l1(g=>g&&g.type)).pipe(I2());r.connect(),this.events=r}}postMessage(o,t){return this.worker.pipe(Y(1),U2(s=>{s.postMessage(n1({action:o},t))})).toPromise().then(()=>{})}postMessageWithOperation(o,t,s){let i=this.waitForOperationCompleted(s),n=this.postMessage(o,t);return Promise.all([n,i]).then(([,e])=>e)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(o){let t;return typeof o=="string"?t=s=>s.type===o:t=s=>o.includes(s.type),this.events.pipe(l1(t))}nextEventOfType(o){return this.eventsOfType(o).pipe(Y(1))}waitForOperationCompleted(o){return this.eventsOfType("OPERATION_COMPLETED").pipe(l1(t=>t.nonce===o),Y(1),G(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},$3=(()=>{let o=class o{get isEnabled(){return this.sw.isEnabled}constructor(s){if(this.sw=s,this.pushManager=null,this.subscriptionChanges=new D2,!s.isEnabled){this.messages=e1,this.notificationClicks=e1,this.subscription=e1;return}this.messages=this.sw.eventsOfType("PUSH").pipe(G(n=>n.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(G(n=>n.data)),this.pushManager=this.sw.registration.pipe(G(n=>n.pushManager));let i=this.pushManager.pipe(d1(n=>n.getSubscription()));this.subscription=Q1(i,this.subscriptionChanges)}requestSubscription(s){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(k1));let i={userVisibleOnly:!0},n=this.decodeBase64(s.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),e=new Uint8Array(new ArrayBuffer(n.length));for(let l=0;l<n.length;l++)e[l]=n.charCodeAt(l);return i.applicationServerKey=e,this.pushManager.pipe(d1(l=>l.subscribe(i)),Y(1)).toPromise().then(l=>(this.subscriptionChanges.next(l),l))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(k1));let s=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(n=>{if(!n)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(Y(1),d1(s)).toPromise()}decodeBase64(s){return atob(s)}};o.\u0275fac=function(i){return new(i||o)(Z(v1))},o.\u0275prov=X({token:o,factory:o.\u0275fac});let a=o;return a})(),W3=(()=>{let o=class o{get isEnabled(){return this.sw.isEnabled}constructor(s){if(this.sw=s,!s.isEnabled){this.versionUpdates=e1,this.unrecoverable=e1;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(k1));let s=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:s},s)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(k1));let s=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:s},s)}};o.\u0275fac=function(i){return new(i||o)(Z(v1))},o.\u0275prov=X({token:o,factory:o.\u0275fac});let a=o;return a})();var g4=new K2("");function G3(a,o,t,s){return()=>{if(!(X1(s)&&"serviceWorker"in navigator&&t.enabled!==!1))return;let i=a.get(L1),n=a.get(G1);i.runOutsideAngular(()=>{let l=navigator.serviceWorker,c=()=>{var r;return(r=l.controller)==null?void 0:r.postMessage({action:"INITIALIZE"})};l.addEventListener("controllerchange",c),n.onDestroy(()=>{l.removeEventListener("controllerchange",c)})});let e;if(typeof t.registrationStrategy=="function")e=t.registrationStrategy();else{let[l,...c]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(l){case"registerImmediately":e=B1(null);break;case"registerWithDelay":e=h4(+c[0]||0);break;case"registerWhenStable":e=c[0]?Q1(v4(a),h4(+c[0])):v4(a);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}i.runOutsideAngular(()=>e.pipe(Y(1)).subscribe(()=>navigator.serviceWorker.register(o,{scope:t.scope}).catch(l=>console.error("Service worker registration failed with:",l))))}}function h4(a){return B1(null).pipe(R2(a))}function v4(a){return a.get(G1).isStable.pipe(l1(t=>t))}function Y3(a,o){return new v1(X1(o)&&a.enabled!==!1?navigator.serviceWorker:void 0)}var z1=class{};function O2(a,o={}){return $2([$3,W3,{provide:g4,useValue:a},{provide:z1,useValue:o},{provide:v1,useFactory:Y3,deps:[z1,$1]},{provide:t0,useFactory:G3,deps:[W2,g4,z1,$1],multi:!0}])}E0.production&&void 0;a0(O0,{providers:[{provide:n0,useClass:l0},g0(),e0(v0),r4(),O2("ngsw-worker.js",{enabled:!Y1(),registrationStrategy:"registerWhenStable:30000"}),O2("ngsw-worker.js",{enabled:!Y1(),registrationStrategy:"registerWhenStable:30000"})]});
